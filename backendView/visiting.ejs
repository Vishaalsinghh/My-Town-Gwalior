<!DOCTYPE html>
<html lang="en">

<head>

    <title> Dashboard</title>
     <!-- Adding incliude page -->

     <%- include ("./include/db-top") %>

</head>

<body id="page-top">

    <!-- Page Wrapper -->
    <div id="wrapper">

        <%- include ("./include/db-sidebar") %>

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">

            <!-- Main Content -->
            <div id="content">

                <%- include ("./include/db-header") %>

                <!-- Begin Page Content -->
                <div class="container-fluid">

                    <!-- Page Heading -->
                    <div class="d-sm-flex align-items-center justify-content-between mb-4">
                        <h1 class="h3 mb-0 text-gray-800">Visiting Place</h1>
                     
                    </div>

                    <!-- Content Row -->
                    <div class="row">

                     <div class="col-12 shadow-sm p-3 mb-5 bg-white rounded d-flex justify-content-end">

                        <button  class="btn-custom-p" onclick='openModal()' >Add</button>
                        
                    </div>
                   
                       <!-- Modal -->
<div class="modal fade" id="visitngFormModal" tabindex="-1" role="dialog" aria-labelledby="visitngFormLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="visitngFormLabel">Add Visiting Place</h5>
          <button type="button" class="close" onclick="closeModal()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          
            <form method="post" action="/placeSave">
                <div class="form-row">
                <div class="form-group col-md-4">
                    <label for="pType">Select Place Type</label>
                    <select id="pType" class="form-control" name="pType" required="required">
                      <option selected>Choose...</option>
                      <option>Modern</option>
                      <option>Vintage / Historical</option>
                    </select>
                  </div>

                  <div class="form-group col-md-6">
                    <label for="pName">Place Name</label>
                    <input type="text" class="form-control" id="pName" name="pName" required="required">
                  </div>


                  <div class="form-group col-md-6">
                    <label for="pTime">Place Timing</label>
                    <input type="text" class="form-control" id="pTime" name="pTime" required="required">
                  </div>

                  <div class="form-group col-md-6">
                    <label for="pDescp">Place Description </label>
                    
                        <textarea class="form-control" id="pDescp" rows="3" name="pDescp" required="required"></textarea>
                
                    
                    </div>


                </div>
                <button class="btn-custom-p" type="submit" value="Submit" />Submit </button>
              </form> 
        </div>
        
      </div>
    </div>
  </div>
  <div class="modal-backdrop fade show" id="backdrop" style="display: none;"></div>


  <div class="box-body">
    <div class="table-responsive">
        <table class="table">
            <thead>
                <tr>
                   
                    <th>Name</th>
                    <th>Type</th>
                    <th>Timming</th>
                    <th>Description</th>
                    <th></th>
                   
                </tr>
            </thead>
            <tbody>
               <% print.forEach(function(result) { %>
                  <tr>
                  
                  <td><%= result.p_name %></td>
                  <td><%= result.p_type %></td>
                  <td><%= result.p_timming %></td>
                  <td><%= result.p_description %></td>
                  <td> <a href="/update?id=<%= result.id %>">Edit</a> <a href="/delete?id=<%= result.id %>">Delete</a> </td>
                  </tr>
               <% }); %>

            </tbody>
        </table>
</div>
</div>

                    </div>

                    <!-- Content Row -->


                  

                </div>
                <!-- /.container-fluid -->

            </div>
            <!-- End of Main Content -->

            <%- include ("./include/db-footer") %>

        </div>
        <!-- End of Content Wrapper -->

    </div>
    <!-- End of Page Wrapper -->






</body>





<script src="../resources/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script>

function openModal() {
    document.getElementById("backdrop").style.display = "block"
    document.getElementById("visitngFormModal").style.display = "block"
    document.getElementById("visitngFormModal").classList.add("show")
}
function closeModal() {
    document.getElementById("backdrop").style.display = "none"
    document.getElementById("visitngFormModal").style.display = "none"
    document.getElementById("visitngFormModal").classList.remove("show")
}
// Get the modal
var modal = document.getElementById('visitngFormModal');

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    closeModal()
  }
}

</script>

</html>

